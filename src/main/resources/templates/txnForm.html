<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Create Transaction</title>
</head>
<body>
	<h1>Create Transaction</h1>
	<form method="POST" th:object="${txn}" id="txnForm"
		th:action="@{'/users/' + ${userId} + '/txns/post'}">
		<input type="hidden" id="userId" name="userId" value="" />
		<p>
			<label for="amount">Amount:</label> <input type="number" id="amount"
				name="amount" th:field="*{amount}" step="0.01" />
		</p>
		<p>
			<label for="date">Date:</label> <input type="date" id="date"
				name="date" th:field="*{date}" />
		</p>
		<p>
			<label for="account">Account:</label> <select name="account.id">
				<option th:value="${null}" th:selected="${txn.account == null}">--
					Select an Account --</option>
				<option th:each="account : ${userAccounts}" th:value="${account.id}"
					th:selected="${account.id == txn.account?.id}"><span
						th:text="${account.name}"></span>
				</option>
			</select>
		</p>
		<p>
			<label for="asset">Asset:</label> <select name="asset.id">
				<option th:value="${null}" th:selected="${txn.asset == null}">--
					Select an Asset --</option>
				<option th:each="asset : ${userAssets}" th:value="${asset.id}"
					th:selected="${asset.id == txn.asset?.id}"><span
						th:text="${asset.name}"></span>
				</option>
			</select>
		</p>
		<input type="submit" value="Create" />
	</form>
	<script>
		var userId = window.location.pathname.split("/")[2];
		document.getElementById("userId").value = parseInt(userId);
	</script>
</body>
</html>
